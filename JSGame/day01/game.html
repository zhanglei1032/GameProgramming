<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>game 1</title>
    <style type="text/css">
        canvas {
            border: 1px black solid;
        }
    </style>
</head>
<body>
<canvas id="id-canvas" width="400" height="300"></canvas>
<script type="text/javascript">
    var log = console.log.bind(console)


    var imageFromPath = function(path){
        var img = new Image()
        img.src = path
        return img
    }


    var Paddle = function () {
        var image = imageFromPath('paddle.png')
        var o = {
            image: image,
            x: 100,
            y: 200,
            speed: 5,
        }
        return o
    }


    var __main = function () {
        var canvas = document.querySelector('#id-canvas')
        var context = canvas.getContext('2d')

        var x = 100
        var y = 200

        var paddle = Paddle()
        var leftDown = false
        var rightDown = false
        var speed = 5

        window.addEventListener('keydown', function (event) {
            var k = event.key
            if (k == 'a') {
                leftDown = true
            } else if (k == 'd') {
                rightDown = true
            }
        })


        window.addEventListener('keyup', function (event) {
            var k = event.key
            if (k == 'a') {
                leftDown = false
            } else if (k == 'd') {
                rightDown = false
            }
        })


        setInterval(function(){
            if (leftDown) {
                paddle.x -= paddle.speed
            } else if (rightDown) {
                paddle.x += paddle.speed
            }
            context.clearRect(0, 0, canvas.width, canvas.height)
            context.drawImage(paddle.image, paddle.x, paddle.y)
        }, 1000/60)

    }

    __main()
</script>
</body>
</html>